{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Planimbly</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {#  bootstrap 5  #}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    {#  style  #}
    <link rel="stylesheet" href="/static/css/nav-sidebar.css">
    <link rel="stylesheet" href="/static/css/accounts/style.css">
    {#    font(s)    #}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@200;400;600&display=swap" rel="stylesheet">
    {#  vue.js v3  #}
    {#    <script src="https://unpkg.com/vue@3"></script>#}
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    {% block head %}

    {% endblock head %}
</head>

{#<nav class="navbar navbar-expand-lg navbar-light bg-light">#}
{#    <div class="container-fluid">#}
{#        <button class="navbar-toggler" type="button" data-toggle="collapse"#}
{#                data-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent"#}
{#                aria-expanded="false" aria-label="Toggle navigation">#}
{#            <span class="navbar-toggler-icon"></span>#}
{#        </button>#}
{##}
{#        <div class="collapse" id="navbarToggleExternalContent">#}
{#            <div class="bg-light">#}
{#                            sidebar to collapse#}
{#            </div>#}
{#        </div>#}
{##}
{#        <div class="d-flex">#}
{#            <a class="navbar-brand" href="{% url 'login' %}">#}
{#                <img src="{% static 'img/Logo-Main-Big2.svg' %}" width="170" height="30"#}
{#                     class="d-inline-block align-top"#}
{#                     alt="">#}
{#            </a>#}
{#        </div>#}
{##}
{#        <div class="d-flex">#}
{#            <div class="nav-item dropdown">#}
{#                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button"#}
{#                   data-bs-toggle="dropdown" aria-expanded="false">#}
{#                    Settings#}
{#                </a>#}
{#                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">#}
{#                    <li><a class="dropdown-item" href="#">Action</a></li>#}
{#                    <li><a class="dropdown-item" href="#">Another action</a></li>#}
{#                    <li>#}
{#                        <hr class="dropdown-divider">#}
{#                    </li>#}
{#                    <li><a class="dropdown-item" href="#">Something else here</a></li>#}
{#                </ul>#}
{#            </div>#}
{#        </div>#}
{##}
{#    </div>#}
{#</nav>#}

<body>

{% block navsidebar %}
    <div id="app">
        <nav class="navbar">
            <img v-on:click="changeSidebarState" class="medium-icon" src="{% static 'img/menu.svg' %}" alt="Burger"
                 id="burger" style="cursor: pointer;">
            <a href="{% url 'home' %}"><img src="{% static 'img/Logo-Main-Big2.svg' %}" alt="Nav logo"
                                            class="medium-logo-nav"
            ></a>
            <nav class="right-nav-menu">
                <img src="{% static 'img/account_circle_FILL0_wght400_GRAD0_opsz48.svg' %}" alt="account"
                     class="medium-icon" style="cursor: pointer; width: 32px;">
            </nav>
        </nav>
        <div class="main">
            <div class="sidebar" id="sidebar" v-bind:style="`margin-left: ${moveSidebar};`">
                <ul class="sidebar-list">
                    {% block sidebar-items %}
                        <li class="sidebar-item">Organizacja</li>
                        <li class="sidebar-item">Grafiki</li>
                        <li class="sidebar-item">Ustawienia Główne</li>
                    {% endblock sidebar-items %}
                </ul>
            </div>
            <div class="proper-main margin-remove" v-bind:style="`margin-left: ${moveMainWithSidebar};`">
                <div v-pre>
                    {% block content %}

                {% endblock content %}
                </div>
            </div>
        </div>

    </div>

{% endblock navsidebar %}

{% comment %}<div class="container">
    {% block content-no-nav %}

    {% endblock %}
</div>{% endcomment %}


<script type="application/javascript">

    var nav_app = new Vue({
        delimiters: ["[[", "]]"],
        el: '#app',
        data: {
            isSidebarHidden: false,
        },
        computed: {
            moveSidebar() {
                if (this.isSidebarHidden) {
                    return "-15rem"
                } else {
                    return 0
                }
            },

            moveMainWithSidebar() {
                if (this.isSidebarHidden) {
                    return "1rem";
                } else {
                    return "16rem";
                }
            },

        },
        methods: {
            changeSidebarState() {
                this.isSidebarHidden = !this.isSidebarHidden;

            }
        },

    })

</script>
{% block vue-content %}
{% endblock vue-content %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>
</html>